{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<html>
<div class="jumbotron text-center">
  <div class="container">
<!--     <a href="/" class="lang-logo">
      <img src="{% static 'lang-logo.png'%}">
    </a> -->
    <h1>VIEW</h1>
    <p>Blind Spot Calculator for Large Trucks</p>
  </div>
</div>
<div class="container">
	<button class="btn btn-primary" onclick="getByVGVWR(5)">Class</button>
	<button class="btn btn-primary" onclick="getByPerc(60)">Rating Limit</button>
	<button class="btn btn-primary" onclick="getByFullVIN('5PVNC6JK562S10283')">Full VIN</button>
	<button class="btn btn-primary" onclick="getByPartialVIN('5PVNC6JK562S10283')">Partial VIN</button>
	<button class="btn btn-primary" onclick="getByVMake('HINO')">Make</button>

</div>
</html>

<script type="text/javascript">

function getByVGVWR(vgvwr){
	let request = new XMLHttpRequest();
	let url = "https://findyourblindspots.herokuapp.com/api/v1/vgvwr/" + vgvwr + "/";

	request.onreadystatechange = function() {
	    let response = JSON.parse(this.responseText);

	    console.log(response['data']); //can loop through this for responses
	}

	request.open("GET", url);
	request.send();
}

function getByPerc(perc){
	let request = new XMLHttpRequest();
	let url = "https://findyourblindspots.herokuapp.com/api/v1/perc/" + perc + "/";

	request.onreadystatechange = function() {
	    let response = JSON.parse(this.responseText);

	    console.log(response['data']); //can loop through this for responses
	}

	request.open("GET", url);
	request.send();
}

function getByFullVIN(fullvin){
	let request = new XMLHttpRequest();
	let url = "https://findyourblindspots.herokuapp.com/api/v1/fullvin/" + fullvin + "/";

	request.onreadystatechange = function() {
	    let response = JSON.parse(this.responseText);

	    console.log(response['data']); //can loop through this for responses
	}

	request.open("GET", url);
	request.send();
}	

function getByPartialVIN(partialvin){
	let request = new XMLHttpRequest();
	let url = "https://findyourblindspots.herokuapp.com/api/v1/partialvin/" + partialvin + "/";

	request.onreadystatechange = function() {
	    let response = JSON.parse(this.responseText);

	    console.log(response['data']); //can loop through this for responses
	}

	request.open("GET", url);
	request.send();
}	

function getByVMake(vmake){
	let request = new XMLHttpRequest();
	let url = "https://findyourblindspots.herokuapp.com/api/v1/vmake/" + vmake + "/";

	request.onreadystatechange = function() {
	    let response = JSON.parse(this.responseText);

	    console.log(response['data']); //can loop through this for responses
	}

	request.open("GET", url);
	request.send();
}	

</script>

{% endblock %}